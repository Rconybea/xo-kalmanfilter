# filter/CMakeLists.txt

set(SELF_LIBRARY_NAME filter)

set(SELF_SOURCE_FILES KalmanFilterSvc.cpp KalmanFilter.cpp KalmanFilterState.cpp KalmanFilterTransition.cpp KalmanFilterObservable.cpp KalmanFilterInput.cpp KalmanFilterStep.cpp KalmanFilterSpec.cpp KalmanFilterEngine.cpp KalmanFilterInputToConsole.cpp KalmanFilterStateToConsole.cpp EigenUtil.cpp init_filter.cpp)

# build shared liburary 'filter'
add_library(${SELF_LIBRARY_NAME} SHARED ${SELF_SOURCE_FILES})

set_target_properties(${SELF_LIBRARY_NAME}
              PROPERTIES
              VERSION ${PROJECT_VERSION}
              SOVERSION 1
              PUBLIC_HEADER init_filter.hpp)

# ----------------------------------------------------------------
# all the warnings!
#
xo_compile_options(${SELF_LIBRARY_NAME})
xo_include_options(${SELF_LIBRARY_NAME})

# ----------------------------------------------------------------
# internal dependencies: reactor, ...

#target_link_libraries(${SELF_LIBRARY_NAME} PUBLIC process)
target_link_libraries(${SELF_LIBRARY_NAME} PUBLIC reactor)
target_link_libraries(${SELF_LIBRARY_NAME} PUBLIC printjson)
target_link_libraries(${SELF_LIBRARY_NAME} PUBLIC refcnt)

# ----------------------------------------------------------------
# 3rd party dependency: eigen:

xo_eigen_dependency(${SELF_LIBRARY_NAME})

xo_install_library(${SELF_LIBRARY_NAME})

# end CMakeLists.txt
